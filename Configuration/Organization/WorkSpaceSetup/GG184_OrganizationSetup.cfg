# GG184 Organization Setup with discipline-based DGNLib switching
_USTN_WORKSPACEROOT            = $(_USTN_CONFIGURATION)WorkSpaces/GG184/
CIVIL_ORG_ROOT                 = $(_USTN_CONFIGURATION)Organization-Civil/
CIVIL_ORG_STANDARDS            = $(CIVIL_ORG_ROOT)Standards/
GG184_IMPORT_ROOT              = $(CIVIL_ORG_STANDARDS)Import/
CIVIL_TEMPLATE_LIBRARY_LIST   > $(CIVIL_ORG_STANDARDS)ITL/**/*.itl

# ---------------- Discipline detection (by marker file in active DGN's folder) ----------------
GG184_DISCIPLINE               = CH
%if exists ($(_DGNDIR) . '._GG184_DISCIPLINE_CD')
  GG184_DISCIPLINE            = CD
%elif exists ($(_DGNDIR) . '._GG184_DISCIPLINE_CE')
  GG184_DISCIPLINE            = CE
%elif exists ($(_DGNDIR) . '._GG184_DISCIPLINE_CB')
  GG184_DISCIPLINE            = CB
%elif exists ($(_DGNDIR) . '._GG184_DISCIPLINE_CX')
  GG184_DISCIPLINE            = CX
%elif exists ($(_DGNDIR) . '._GG184_DISCIPLINE_CH')
  GG184_DISCIPLINE            = CH
%endif

# ---------------- Always-on libraries ----------------
# Always load Common
MS_DGNLIBLIST                 > $(CIVIL_ORG_STANDARDS)Dgnlib/Common/**/*.dgnlib
# Always load CX libraries (general civil) for cross-discipline availability
MS_DGNLIBLIST                 > $(CIVIL_ORG_STANDARDS)Dgnlib/Feature\ Definitions/CX/**/*.dgnlib
MS_DGNLIBLIST                 > $(CIVIL_ORG_STANDARDS)Dgnlib/Feature\ Symbology/CX/**/*.dgnlib
MS_DGNLIBLIST                 > $(CIVIL_ORG_STANDARDS)Dgnlib/Element\ Templates/CX/**/*.dgnlib
# Always load Base Feature Definitions (foundational definitions used by all)
MS_DGNLIBLIST                 > $(CIVIL_ORG_STANDARDS)Dgnlib/Feature\ Definitions/_Base/**/*.dgnlib

# ---------------- Discipline-specific buckets (switchable) ----------------
MS_DGNLIBLIST                 > $(CIVIL_ORG_STANDARDS)Dgnlib/Feature\ Definitions/$(GG184_DISCIPLINE)/**/*.dgnlib
MS_DGNLIBLIST                 > $(CIVIL_ORG_STANDARDS)Dgnlib/Feature\ Symbology/$(GG184_DISCIPLINE)/**/*.dgnlib
MS_DGNLIBLIST                 > $(CIVIL_ORG_STANDARDS)Dgnlib/Element\ Templates/$(GG184_DISCIPLINE)/**/*.dgnlib

# Seeds/Levels
MS_LEVEL_LIB_DIR              > $(CIVIL_ORG_STANDARDS)Dgnlib/Common/
MS_SEEDFILES                  > $(CIVIL_ORG_ROOT)Seed/**/*.dgn